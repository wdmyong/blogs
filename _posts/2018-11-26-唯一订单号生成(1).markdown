---
layout: post
title: 唯一订单号生成(1)
---

### 自增实现
#### 原理
```
通过单一发号器自增产生序列号
```
#### 方式
```
1. 发号器程序
2. mysql数据库
3. redis缓存
```
#### 优点
```
1. 实现简单
2. 自增id自然有序
```
#### 缺点
```
1. 存在单点问题
2. 故障恢复需要跳号特殊处理，否则会有重号生成
3. 暴露数据量
4. 并发量有限，真的有限(单实例：1000线程，百万量级，21秒扛不住，22秒可以)
5. 可通过集群方式扩展，然后生成的id有序性会被打乱，当然不太重要
```
#### 实现
```
1. 以上几种类型实现几乎类似
2. 发号器程序需要独立部署到一台服务器保证自增
3. mysql通过自增主键来保证自增惟一
4. 因此，以redis为示例程序说明实现
```
#### 源码见 **[SeriesNumberRedisImpl](https://github.com/wdmyong/blogCode?__blank){:target="_blank"}**